(this.webpackJsonpexplorer=this.webpackJsonpexplorer||[]).push([[0],{120:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(9),r=t.n(o),i=(t(94),t(13)),c=t(41),s=t(6),u=t(162),m=t(157),d=t(159),k=t(160),b=t(165),p=t(161),f=t(58),E=t.n(f),v=t(80),h=t.n(v),g=t(81),y=t.n(g),w=t(57),N=t.n(w),x=t(158),C=t(164),B=(t(95),t(163)),O=t(15),j=t.n(O);function S(){var e=Object(i.g)(),a=I(),t=Object(i.f)(),o=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i"),r=l.a.useState(null),c=Object(s.a)(r,2),u=c[0],f=c[1],v=l.a.useState(null),g=Object(s.a)(v,2),w=g[0],O=g[1],S=l.a.useState("https://htli38r3g7.execute-api.us-east-1.amazonaws.com/test"),A=Object(s.a)(S,2),D=A[0],T=(A[1],l.a.useState([!0,null,null])),U=Object(s.a)(T,2),F=U[0],z=U[1],H=l.a.useState([null,null,null,null,null]),W=Object(s.a)(H,2),R=W[0],L=W[1],M=l.a.useState(!1),P=Object(s.a)(M,2),V=P[0],_=P[1],J=l.a.useState(!1),$=Object(s.a)(J,2),G=$[0],q=$[1],K=l.a.useState(!1),Q=Object(s.a)(K,2),X=Q[0],Y=Q[1],Z=l.a.useState(!1),ee=Object(s.a)(Z,2),ae=ee[0],te=ee[1],ne=l.a.useState(!1),le=Object(s.a)(ne,2),oe=le[0],re=le[1],ie=l.a.useState(null),ce=Object(s.a)(ie,2),se=ce[0],ue=ce[1],me=l.a.useState(0),de=Object(s.a)(me,2),ke=de[0],be=de[1],pe=l.a.useState(null),fe=Object(s.a)(pe,2),Ee=fe[0],ve=fe[1],he=l.a.useState(null),ge=Object(s.a)(he,2),ye=(ge[0],ge[1],l.a.useState(null)),we=Object(s.a)(ye,2),Ne=we[0],xe=we[1],Ce=l.a.useState(null),Be=Object(s.a)(Ce,2),Oe=(Be[0],Be[1],l.a.useState(null)),je=Object(s.a)(Oe,2),Se=(je[0],je[1],l.a.useState({id:null,name:null,type:null,folderIndex:null})),Ie=Object(s.a)(Se,2),Ae=Ie[0],De=Ie[1],Te=l.a.useState([{name:"root",bookmarks:[{bookmarkName:"",bookmarkUrl:""}]}]),Ue=Object(s.a)(Te,2),Fe=Ue[0],ze=Ue[1];Object(n.useEffect)((function(){fetch(D+"/folders?username="+e.state.userId).then((function(e){return e.json()})).then((function(e){ze(e),console.log(e)}))}),[]),void 0===e.state&&t.replace("/");var He=function(e){window.open("http://"+e)},We=function(e,a,t){console.log(Fe[t].bookmarks[a]),"root"!==t?(z([!1,!1,!1]),L([!0,!0,!0,!0,!1])):(z([!0,!1,!1]),L([!1,!0,!0,!0,!0])),be(t),xe(a),f(Fe[t].bookmarks[a].bookmarkName),O(Fe[t].bookmarks[a].bookmarkUrl)},Re=function(a){u.startsWith(" ")?window.alert("Invalid folder name."):j.a.post(D+"/folders?folderName="+u+"&username="+e.state.userId).then((function(e){"invalid"===e.data?window.alert("Folder already exists!"):ze(e.data),_(!1)})).catch((function(e){console.log(e)}))},Le=function(e){f(e.target.value)},Me=function(e){O(e.target.value)},Pe=function(){u.startsWith(" ")?window.alert("Invalid folder name."):(j.a.put(D+"/folders?newFolderName="+u+"&folderName="+Fe[ke].name+"&username="+e.state.userId).then((function(e){ze(e.data)})).catch((function(e){console.log(e)})),Y(!X))},Ve=function(){u.startsWith(" ")?window.alert("Invalid folder name."):o.test(w)?(j.a.put(D+"/bookmarks?folderName="+Fe[ke].name+"&bookmarkName="+Fe[ke].bookmarks[Ne].bookmarkName+"&newBookmarkName="+u+"&newBookmarkUrl="+w+"&username="+e.state.userId).then((function(e){ze(e.data)})).catch((function(e){console.log(e)})),te(!ae)):window.alert("Invalid url")},_e=function(){j.a.post(D+"/bookmarks?folderName="+Fe[Ee].name+"&bookmarkName="+Ae.bookmarkName+"&bookmarkUrl="+Ae.bookmarkUrl+"&username="+e.state.userId).then((function(e){})).catch((function(e){console.log(e)})),console.log(Ne),j.a.delete(D+"/bookmarks?bookmarkName="+Fe[ke].bookmarks[Ne].bookmarkName+"&folderName="+Fe[ke].name+"&username="+e.state.userId).then((function(e){ze(e.data),console.log(e),re(!1),xe(null)})).catch((function(e){console.log(e)}))},Je=function(e,t){return l.a.createElement(m.a,{component:"div",disablePadding:!0},e.bookmarks.map((function(e,n){return l.a.createElement(d.a,{button:!0,className:a.nested,selected:Ne===n&&ke===t,onClick:function(e){return We(0,n,t)}},l.a.createElement(k.a,null,l.a.createElement(E.a,null)),l.a.createElement(b.a,{primary:e.bookmarkName,secondary:e.bookmarkUrl,onDoubleClick:function(){return He(e.bookmarkUrl)}}))})))};return l.a.createElement("div",null,l.a.createElement("h1",{className:a.title},"Bookmarks"),l.a.createElement("div",{className:a.mainDiv},l.a.createElement("div",{className:a.foldersDiv},Fe.map((function(e,t){if("root"!==e.name)return l.a.createElement(m.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:a.root},l.a.createElement(d.a,{button:!0,selected:ke===t,onClick:function(e){return function(e,a){be(a),xe(null),z([!0,!0,!0]),L([!0,!1,!1,!1,!0]);var t=Fe;t[a].open=!t[a].open,f(Fe[a].name),ze(t)}(0,t)}},l.a.createElement(k.a,null,l.a.createElement(N.a,null)),l.a.createElement(b.a,{primary:e.name}),e.open?l.a.createElement(h.a,null):l.a.createElement(y.a,null)),l.a.createElement(p.a,{in:e.open,timeout:"auto",unmountOnExit:!0},Je(e,t)))})),l.a.createElement(m.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:a.root},Fe.map((function(e,t){if("root"===e.name)return e.bookmarks.map((function(e,n){return l.a.createElement(d.a,{button:!0,className:a.nestedroot,selected:Ne===n&&ke===t,onClick:function(e){return We(0,n,t)}},l.a.createElement(k.a,null,l.a.createElement(E.a,null)),l.a.createElement(b.a,{primary:e.bookmarkName,secondary:e.bookmarkUrl,onDoubleClick:function(){return He(e.bookmarkUrl)}}))}))})))),l.a.createElement("br",null),l.a.createElement("div",{className:a.actionsDiv},l.a.createElement(x.a,{color:"primary",className:a.actionButton,variant:"outlined",onClick:function(){return _(!0)}},"Create folder"),R[4]?l.a.createElement(x.a,{color:"primary",className:a.actionButton,variant:"outlined",onClick:function(){q(!0),ue(0)}},"Create bookmark"):null,R[0]?l.a.createElement(x.a,{color:"primary",className:a.actionButton,variant:"outlined",onClick:function(){q(!0),ue(1)}},"Add bookmark to folder"):null,l.a.createElement("br",null),F[2]?l.a.createElement(x.a,{color:"primary",className:a.actionButton,variant:"outlined",onClick:function(){return Y(!0)}},"Rename folder"):null,R[2]?l.a.createElement(x.a,{color:"primary",className:a.actionButton,variant:"outlined",onClick:function(){return te(!0)}},"Edit bookmark"):null,l.a.createElement("br",null),R[3]?l.a.createElement(x.a,{color:"primary",className:a.actionButton,variant:"outlined",onClick:function(){return De(Fe[ke].bookmarks[Ne]),void re(!0)}},"Move bookmark"):null,l.a.createElement("br",null),F[1]?l.a.createElement(x.a,{color:"secondary",className:a.actionButton,variant:"outlined",onClick:function(){return j.a.delete(D+"/folders/?folderName="+Fe[ke].name+"&username="+e.state.userId).then((function(e){ze(e.data)})).catch((function(e){console.log(e)})),be(null),L([!1,!1,!1,!1,!0]),void z([!0,!1,!1])}},"Delete folder"):null,R[1]?l.a.createElement(x.a,{color:"secondary",className:a.actionButton,variant:"outlined",onClick:function(){j.a.delete(D+"/bookmarks?bookmarkName="+Fe[ke].bookmarks[Ne].bookmarkName+"&folderName="+Fe[ke].name+"&username="+e.state.userId).then((function(e){ze(e.data),xe(null),"root"===Fe[ke].name?L([!1,!1,!1,!1,!0]):L([!0,!1,!1,!1,!0])})).catch((function(e){console.log(e)}))}},"Delete bookmark"):null),l.a.createElement(C.a,{show:V,onHide:function(){return _(!1)}},l.a.createElement(C.a.Header,{style:{display:"inline-block",textAlign:"center"}},l.a.createElement(C.a.Title,null,"Create folder")),l.a.createElement(C.a.Body,{style:{display:"inline-block",textAlign:"center"}},l.a.createElement(B.a,{id:"outlined-basic",label:"Enter new name:",variant:"outlined",onChange:Le})),l.a.createElement(C.a.Footer,{style:{display:"inline-block",textAlign:"center"}},l.a.createElement(x.a,{color:"primary",variant:"outlined",className:a.modalButton,onClick:Re},"Ok"),l.a.createElement(x.a,{color:"secondary",variant:"outlined",className:a.modalButton,onClick:function(){return _(!1)}},"Cancel"))),l.a.createElement(C.a,{show:G,onHide:function(){return q(!1)}},l.a.createElement(C.a.Header,{style:{display:"inline-block",textAlign:"center"}},l.a.createElement(C.a.Title,null,"Create bookmark")),l.a.createElement(C.a.Body,{style:{display:"inline-block",textAlign:"center"}},l.a.createElement(B.a,{id:"outlined-basic",label:"Enter new name:",variant:"outlined",onChange:Le}),l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement(B.a,{id:"outlined-basic",label:"Enter new link url:",variant:"outlined",onChange:Me})),l.a.createElement(C.a.Footer,{style:{display:"inline-block",textAlign:"center"}},l.a.createElement(x.a,{color:"primary",variant:"outlined",className:a.modalButton,onClick:function(){return 0===se?void(u.startsWith(" ")?window.alert("Invalid folder name."):o.test(w)?j.a.post(D+"/bookmarks?folderName=root&bookmarkName="+u+"&bookmarkUrl="+w+"&username="+e.state.userId).then((function(e){"Bookmark url already exists!"===e.data||"Bookmark name already exists!"===e.data?window.alert(e.data):ze(e.data),q(!1)})).catch((function(e){console.log(e)})):window.alert("Invalid url")):void(u.startsWith(" ")?window.alert("Invalid folder name."):o.test(w)?(console.log(ke),j.a.post(D+"/bookmarks?folderName="+Fe[ke].name+"&bookmarkName="+u+"&bookmarkUrl="+w+"&username="+e.state.userId).then((function(e){"Bookmark url already exists!"===e.data||"Bookmark name already exists!"===e.data?window.alert(e.data):ze(e.data),q(!1)})).catch((function(e){console.log(e)}))):window.alert("Invalid url"))}},"Ok"),l.a.createElement(x.a,{color:"secondary",variant:"outlined",className:a.modalButton,onClick:function(){return q(!1)}},"Cancel"))),l.a.createElement(C.a,{show:X,onHide:function(){return Y(!1)}},l.a.createElement(C.a.Header,{style:{display:"inline-block",textAlign:"center"}},l.a.createElement(C.a.Title,null,"Rename folder")),l.a.createElement(C.a.Body,{style:{display:"inline-block",textAlign:"center"}},l.a.createElement(B.a,{id:"outlined-basic",label:"Enter new name:",variant:"outlined",defaultValue:u,onChange:Le})),l.a.createElement(C.a.Footer,{style:{display:"inline-block",textAlign:"center"}},l.a.createElement(x.a,{color:"primary",variant:"outlined",className:a.modalButton,onClick:Pe},"Ok"),l.a.createElement(x.a,{color:"secondary",variant:"outlined",className:a.modalButton,onClick:function(){return Y(!1)}},"Cancel"))),l.a.createElement(C.a,{show:ae,onHide:function(){return te(!1)}},l.a.createElement(C.a.Header,{style:{display:"inline-block",textAlign:"center"}},l.a.createElement(C.a.Title,null,"Edit bookmark")),l.a.createElement(C.a.Body,{style:{display:"inline-block",textAlign:"center"}},l.a.createElement(B.a,{id:"outlined-basic",label:"Enter new name:",variant:"outlined",defaultValue:u,onChange:Le}),l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement(B.a,{id:"outlined-basic",label:"Enter new link url:",variant:"outlined",defaultValue:w,onChange:Me})),l.a.createElement(C.a.Footer,{style:{display:"inline-block",textAlign:"center"}},l.a.createElement(x.a,{color:"primary",variant:"outlined",className:a.modalButton,onClick:Ve},"Ok"),l.a.createElement(x.a,{color:"secondary",variant:"outlined",className:a.modalButton,onClick:function(){return te(!1)}},"Cancel"))),l.a.createElement(C.a,{show:oe,onHide:function(){return re(!1)}},l.a.createElement(C.a.Header,{style:{display:"inline-block",textAlign:"center"}},l.a.createElement(C.a.Title,null,"Move bookmark to")),l.a.createElement(C.a.Body,{style:{display:"inline-block",textAlign:"center",height:"25vh",overflow:"auto"}},l.a.createElement(m.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:a.root},Fe.map((function(e,t){return"root"!==e.name&&Fe[ke].name!==e.name?l.a.createElement(d.a,{button:!0,className:a.nested,selected:Ee===t,onClick:function(e){return ve(t)}},l.a.createElement(k.a,null,l.a.createElement(N.a,null)),l.a.createElement(b.a,{primary:e.name})):null})))),l.a.createElement(C.a.Footer,{style:{display:"inline-block",textAlign:"center"}},l.a.createElement(x.a,{color:"primary",variant:"outlined",className:a.modalButton,onClick:_e},"Ok"),l.a.createElement(x.a,{color:"secondary",variant:"outlined",className:a.modalButton,onClick:function(){return re(!1)}},"Cancel")))),l.a.createElement("h5",{className:a.userName},"User: ",e.state.userName),l.a.createElement(x.a,{color:"primary",variant:"contained",className:a.logoutButton,onClick:function(){t.replace("/")}},"Logout"))}var I=Object(u.a)((function(e){return{mainDiv:{position:"absolute",left:"50%",top:"60%",transform:"translate(-50%, -50%)",height:"95vh",width:"95vw",display:"inline-block",textAlign:"center"},title:{textAlign:"center",marginTop:"1vh"},foldersDiv:{height:"50vh",width:"50vw",overflow:"auto",display:"inline-block",textAlign:"center",border:"1px solid black",borderRadius:"10px"},actionsDiv:{display:"inline-block",textAlign:"center"},root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},nested:{paddingLeft:e.spacing(4)},nestedroot:{paddingLeft:e.spacing(4),color:"blue"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},moveBookmarkModal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",borderRadius:"5px",height:"200px",width:"250px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},modalButton:{margin:"2vh"},actionButton:{margin:"10px",position:"relative"},userName:{position:"absolute",left:"1vw",top:"1vh"},logoutButton:{position:"absolute",right:"1vw",top:"1vh"}}}));function A(e){var a=l.a.useState(""),t=Object(s.a)(a,2),n=t[0],o=t[1],r=l.a.useState(""),c=Object(s.a)(r,2),u=c[0],m=c[1],d=l.a.useState("https://ux48ih7dy5.execute-api.us-east-1.amazonaws.com/Test"),k=Object(s.a)(d,2),b=k[0],p=(k[1],Object(i.f)());return l.a.createElement("div",{style:D.mainDiv},l.a.createElement("h1",null,"Bookmarker"),l.a.createElement("h2",{style:D.title}," Login"),l.a.createElement(B.a,{id:"outlined-basic",style:D.textField,label:"Username:",variant:"outlined",onChange:function(e){o(e.target.value)}}),l.a.createElement("br",null),l.a.createElement(B.a,{id:"outlined-basic",style:D.textField,label:"Password:",variant:"outlined",type:"password",onChange:function(e){32!==e.target.value&&m(e.target.value)}}),l.a.createElement("br",null),l.a.createElement(x.a,{style:D.button,onClick:function(e){/\s/g.test(n)||""===n?window.alert("Enter a valid username."):/\s/g.test(u)||""===u?window.alert("Enter a valid password."):j.a.get(b+"/userauth?username="+n+"&password="+u).then((function(e){e.data!==n?window.alert("Invalid password!"):(console.log(e.data),p.push("/bookmarks",{userId:e.data,userName:n}))})).catch((function(e){window.alert("Invalid credentials."),console.log(e)}))},color:"primary",variant:"contained"},"Login"),l.a.createElement("br",null),l.a.createElement(x.a,{style:D.button,color:"primary",onClick:function(e){p.push("/signup")},variant:"contained"},"New user? Sign up"))}var D={mainDiv:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",borderRadius:"10px",height:"48vh",width:"60vh",display:"inline-block",textAlign:"center"},textField:{marginBottom:"2vh",marginTop:"2vh"},button:{marginTop:"1vh"},title:{marginTop:"1vh"}};function T(e){var a=l.a.useState(""),t=Object(s.a)(a,2),n=t[0],o=t[1],r=l.a.useState(""),c=Object(s.a)(r,2),u=c[0],m=c[1],d=l.a.useState("https://ux48ih7dy5.execute-api.us-east-1.amazonaws.com/Test"),k=Object(s.a)(d,1)[0],b=Object(i.f)();return l.a.createElement("div",{style:U.mainDiv},l.a.createElement("h1",{style:U.title},"Signup"),l.a.createElement(B.a,{id:"outlined-basic",style:U.textField,label:"Username:",variant:"outlined",onChange:function(e){o(e.target.value)}}),l.a.createElement("br",null),l.a.createElement(B.a,{id:"outlined-basic",style:U.textField,label:"Password:",variant:"outlined",type:"password",onChange:function(e){m(e.target.value)}}),l.a.createElement("br",null),l.a.createElement(x.a,{style:U.button,color:"primary",onClick:function(e){if(/\s/g.test(n)||""===n)window.alert("Enter a valid username.");else if(/\s/g.test(u)||u.length<=4||""===u)window.alert("Enter a valid password.");else{var a=k+"/userauth?username="+n+"&password="+u;console.log(a),j.a.post(a).then((function(e){window.alert("Account created successfully. Login using credentials."),b.push("/")}))}},variant:"contained"},"Create account"),l.a.createElement("br",null),l.a.createElement(x.a,{style:U.button,color:"primary",onClick:function(){b.push("/")},variant:"contained"},"Go back to login"))}var U={mainDiv:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",border:"1px solid black",borderRadius:"10px",height:"48vh",width:"60vh",display:"inline-block",textAlign:"center"},textField:{marginBottom:"2vh",marginTop:"2vh"},button:{marginTop:"1vh"},title:{marginTop:"1vh"}};function F(){var e=Object(i.f)();return l.a.createElement(c.a,{history:e},l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",component:function(e){return l.a.createElement(A,null)}}),l.a.createElement(i.a,{path:"/bookmarks",component:function(e){return l.a.createElement(S,null)}}),l.a.createElement(i.a,{path:"/signup",component:function(e){return l.a.createElement(T,null)}})))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},89:function(e,a,t){e.exports=t(120)},94:function(e,a,t){}},[[89,1,2]]]);
//# sourceMappingURL=main.40cf2bf6.chunk.js.map